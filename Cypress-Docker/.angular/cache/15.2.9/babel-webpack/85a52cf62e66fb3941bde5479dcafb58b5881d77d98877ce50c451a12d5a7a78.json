{"ast":null,"code":"import { RouterLink, RouterLinkActive, RouterOutlet } from \"@angular/router\";\nimport { catchError, switchMap, takeUntil } from \"rxjs/operators\";\nimport { combineLatest, of, Subject, throwError } from \"rxjs\";\nimport { FollowButtonComponent } from \"../../shared/buttons/follow-button.component\";\nimport { NgIf } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../core/services/user.service\";\nimport * as i3 from \"../../core/services/profile.service\";\nfunction ProfileComponent_div_0_app_follow_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-follow-button\", 13);\n    i0.ɵɵlistener(\"toggle\", function ProfileComponent_div_0_app_follow_button_10_Template_app_follow_button_toggle_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.onToggleFollowing($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"profile\", ctx_r1.profile);\n  }\n}\nconst _c0 = function () {\n  return [\"/settings\"];\n};\nfunction ProfileComponent_div_0_a_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 14);\n    i0.ɵɵelement(1, \"i\", 15);\n    i0.ɵɵtext(2, \" Edit Profile Settings \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nconst _c1 = function () {\n  return {\n    exact: true\n  };\n};\nconst _c2 = function (a1) {\n  return [\"/profile\", a1];\n};\nconst _c3 = function (a1) {\n  return [\"/profile\", a1, \"favorites\"];\n};\nfunction ProfileComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"div\", 5);\n    i0.ɵɵelement(5, \"img\", 6);\n    i0.ɵɵelementStart(6, \"h4\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, ProfileComponent_div_0_app_follow_button_10_Template, 1, 1, \"app-follow-button\", 7);\n    i0.ɵɵtemplate(11, ProfileComponent_div_0_a_11_Template, 3, 2, \"a\", 8);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"div\", 3)(13, \"div\", 4)(14, \"div\", 5)(15, \"div\", 9)(16, \"ul\", 10)(17, \"li\", 11)(18, \"a\", 12);\n    i0.ɵɵtext(19, \" My Posts \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"li\", 11)(21, \"a\", 12);\n    i0.ɵɵtext(22, \" Favorited Posts \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(23, \"router-outlet\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", ctx_r0.profile.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.profile.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.profile.bio);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isUser);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isUser);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(9, _c1))(\"routerLink\", i0.ɵɵpureFunction1(10, _c2, ctx_r0.profile.username));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(12, _c1))(\"routerLink\", i0.ɵɵpureFunction1(13, _c3, ctx_r0.profile.username));\n  }\n}\nexport class ProfileComponent {\n  constructor(route, router, userService, profileService) {\n    this.route = route;\n    this.router = router;\n    this.userService = userService;\n    this.profileService = profileService;\n    this.isUser = false;\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    this.profileService.get(this.route.snapshot.params[\"username\"]).pipe(catchError(error => {\n      void this.router.navigate([\"/\"]);\n      return throwError(error);\n    }), switchMap(profile => {\n      return combineLatest([of(profile), this.userService.currentUser]);\n    }), takeUntil(this.destroy$)).subscribe(([profile, user]) => {\n      this.profile = profile;\n      this.isUser = profile.username === user?.username;\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  onToggleFollowing(profile) {\n    this.profile = profile;\n  }\n  static #_ = this.ɵfac = function ProfileComponent_Factory(t) {\n    return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.ProfileService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileComponent,\n    selectors: [[\"app-profile-page\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"profile-page\", 4, \"ngIf\"], [1, \"profile-page\"], [1, \"user-info\"], [1, \"container\"], [1, \"row\"], [1, \"col-xs-12\", \"col-md-10\", \"offset-md-1\"], [1, \"user-img\", 3, \"src\"], [3, \"profile\", \"toggle\", 4, \"ngIf\"], [\"class\", \"btn btn-sm btn-outline-secondary action-btn\", 3, \"routerLink\", 4, \"ngIf\"], [1, \"articles-toggle\"], [1, \"nav\", \"nav-pills\", \"outline-active\"], [1, \"nav-item\"], [\"routerLinkActive\", \"active\", 1, \"nav-link\", 3, \"routerLinkActiveOptions\", \"routerLink\"], [3, \"profile\", \"toggle\"], [1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", \"action-btn\", 3, \"routerLink\"], [1, \"ion-gear-a\"]],\n    template: function ProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProfileComponent_div_0_Template, 24, 15, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.profile);\n      }\n    },\n    dependencies: [FollowButtonComponent, NgIf, RouterLink, RouterLinkActive, RouterOutlet],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":"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","names":["RouterLink","RouterLinkActive","RouterOutlet","catchError","switchMap","takeUntil","combineLatest","of","Subject","throwError","FollowButtonComponent","NgIf","i0","ProfileComponent","constructor","route","router","userService","profileService","ngOnInit","get","snapshot","params","pipe","error","navigate","profile","currentUser","destroy$","subscribe","user","isUser","username","ngOnDestroy","next","complete","onToggleFollowing","selectors","standalone","features","decls","vars","consts","template","encapsulation"],"sourceRoot":"","sources":["C:\\Users\\LuciaD'Alfonso\\Desktop\\Cypress\\angular-realworld-example-app-docker\\src\\app\\features\\profile\\profile.component.ts","C:\\Users\\LuciaD'Alfonso\\Desktop\\Cypress\\angular-realworld-example-app-docker\\src\\app\\features\\profile\\profile.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from \"@angular/core\";\r\nimport {\r\n  ActivatedRoute,\r\n  Router,\r\n  RouterLink,\r\n  RouterLinkActive,\r\n  RouterOutlet,\r\n} from \"@angular/router\";\r\nimport { catchError, switchMap, takeUntil } from \"rxjs/operators\";\r\nimport { combineLatest, of, Subject, throwError } from \"rxjs\";\r\nimport { UserService } from \"../../core/services/user.service\";\r\nimport { Profile } from \"../../core/models/profile.model\";\r\nimport { ProfileService } from \"../../core/services/profile.service\";\r\nimport { FollowButtonComponent } from \"../../shared/buttons/follow-button.component\";\r\nimport { AsyncPipe, NgIf } from \"@angular/common\";\r\n\r\n@Component({\r\n  selector: \"app-profile-page\",\r\n  templateUrl: \"./profile.component.html\",\r\n  imports: [\r\n    FollowButtonComponent,\r\n    NgIf,\r\n    RouterLink,\r\n    AsyncPipe,\r\n    RouterLinkActive,\r\n    RouterOutlet,\r\n  ],\r\n  standalone: true,\r\n})\r\nexport class ProfileComponent implements OnInit, OnDestroy {\r\n  profile!: Profile;\r\n  isUser: boolean = false;\r\n  destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private readonly route: ActivatedRoute,\r\n    private readonly router: Router,\r\n    private readonly userService: UserService,\r\n    private readonly profileService: ProfileService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.profileService\r\n      .get(this.route.snapshot.params[\"username\"])\r\n      .pipe(\r\n        catchError((error) => {\r\n          void this.router.navigate([\"/\"]);\r\n          return throwError(error);\r\n        }),\r\n        switchMap((profile) => {\r\n          return combineLatest([of(profile), this.userService.currentUser]);\r\n        }),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe(([profile, user]) => {\r\n        this.profile = profile;\r\n        this.isUser = profile.username === user?.username;\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  onToggleFollowing(profile: Profile) {\r\n    this.profile = profile;\r\n  }\r\n}\r\n","<div class=\"profile-page\" *ngIf=\"profile\">\r\n  <div class=\"user-info\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n          <img [src]=\"profile.image\" class=\"user-img\" />\r\n          <h4>{{ profile.username }}</h4>\r\n          <p>{{ profile.bio }}</p>\r\n          <app-follow-button\r\n            *ngIf=\"!isUser\"\r\n            [profile]=\"profile\"\r\n            (toggle)=\"onToggleFollowing($event)\"\r\n          >\r\n          </app-follow-button>\r\n          <a\r\n            [routerLink]=\"['/settings']\"\r\n            *ngIf=\"isUser\"\r\n            class=\"btn btn-sm btn-outline-secondary action-btn\"\r\n          >\r\n            <i class=\"ion-gear-a\"></i> Edit Profile Settings\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n        <div class=\"articles-toggle\">\r\n          <ul class=\"nav nav-pills outline-active\">\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                routerLinkActive=\"active\"\r\n                [routerLinkActiveOptions]=\"{ exact: true }\"\r\n                [routerLink]=\"['/profile', profile.username]\"\r\n              >\r\n                My Posts\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                routerLinkActive=\"active\"\r\n                [routerLinkActiveOptions]=\"{ exact: true }\"\r\n                [routerLink]=\"['/profile', profile.username, 'favorites']\"\r\n              >\r\n                Favorited Posts\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <router-outlet></router-outlet>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}